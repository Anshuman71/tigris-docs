import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Getting Started

## Prerequisites

The Tigris client is compatible with Node version 12 onwards.

## Installation

> Install the npm package

```shell
npm install @tigrisdata/core --save
```

> Install `reflect-metadata` that enables automatic type inference using reflection

```shell
npm install reflect-metadata --save
```

> Ensure that you are on Typescript version **4.5 or above** and have following settings enabled in
> `compilerOptions` section of `tsconfig.json`:

```json
"emitDecoratorMetadata": true,
"experimentalDecorators": true,
```

## Create Connection

<Tabs>
<TabItem value="Tigris Cloud" label="Tigris Cloud">

Tigris server URL, ClientID and ClientSecret need to be set as follows,
in order to connect to the hosted platform:

```ts
const tigris = new Tigris({
  serverUrl: "api.preview.tigrisdata.cloud",
  clientId: "paste client_id here",
  clientSecret: "paste client_secret here",
  projectName: "paste project name here",
});
```

The ClientID and ClientSecret can be retrieved by creating an application
in the [CLI](../cli/authentication.md#application-credentials) or UI.

</TabItem>
<TabItem value="Development Environment" label="Development Environment">

For local development only URL pointing to the localhost is required:

```ts
const tigris = new Tigris({
  serverUrl: "localhost:8081",
});
```

</TabItem>
</Tabs>

## Set up the data model

Tigris lets developers define the schema as TypeScript classes using `@TigrisCollection`
decorator.

```ts title=SchemaDefinition
@TigrisCollection("catalog")
class Catalog implements TigrisCollectionType {
  @PrimaryKey({ order: 1, autoGenerate: true })
  id?: string;

  @Field()
  name: string;

  @Field()
  price: number;

  @Field()
  brand: string;

  @Field()
  labels: string;

  @Field(TigrisDataTypes.INT32)
  popularity: number;
}
```

For detailed documentation on schema representation refer to the
[data modeling](database/datamodel) section.

## Create a Collection

```ts
const db = await tigris.getDatabase();
const catalog = await db.createOrUpdateCollection<Catalog>(Catalog);
```
